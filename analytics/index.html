<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ImpactGrid SaaS Intelligence Platform</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
* { box-sizing:border-box; margin:0; padding:0; font-family:'Inter',sans-serif; }

body { background:#f4f6f9; }

.hidden { display:none; }
.page-section { display:none; }
.active-section { display:block; }

.app-layout { display:flex; min-height:100vh; }

/* SIDEBAR */
.sidebar {
    width:240px;
    background:#111827;
    color:white;
    padding:20px;
    transition:transform 0.3s ease;
}

.sidebar ul { list-style:none; }
.sidebar li {
    padding:12px;
    cursor:pointer;
    border-radius:6px;
}
.sidebar li.active,
.sidebar li:hover { background:#1f2937; }

/* MOBILE SIDEBAR */
.menu-toggle {
    display:none;
    background:#111827;
    color:white;
    padding:10px;
    cursor:pointer;
}

@media(max-width:768px){
    .app-layout { flex-direction:column; }
    .sidebar {
        position:fixed;
        height:100%;
        transform:translateX(-100%);
        z-index:1000;
    }
    .sidebar.show { transform:translateX(0); }
    .main-content { margin-left:0; padding:20px; }
    .menu-toggle { display:block; }
}

/* MAIN */
.main-content { flex:1; padding:30px; }

.card {
    background:white;
    padding:20px;
    margin-bottom:20px;
    border-radius:10px;
    box-shadow:0 4px 10px rgba(0,0,0,0.05);
}

.grid {
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
    gap:10px;
}

.charts-grid {
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
    gap:20px;
}

.chart-card { height:300px; }

button {
    padding:8px 12px;
    border:none;
    border-radius:6px;
    cursor:pointer;
}

.btn-primary { background:#2563eb; color:white; }
.btn-secondary { background:#e2e8f0; }

.auth-screen {
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
}
.auth-card {
    background:white;
    padding:40px;
    border-radius:10px;
}
</style>
</head>

<body>

<div id="authScreen" class="auth-screen">
    <div class="auth-card">
        <h2>ImpactGrid Login</h2>
        <button onclick="login()">Login</button>
    </div>
</div>

<div id="app" class="app-layout hidden">

    <div class="menu-toggle" onclick="toggleSidebar()">â˜° Menu</div>

    <aside class="sidebar" id="sidebar">
        <ul>
            <li onclick="showSection('dashboard',event)" class="active">Dashboard</li>
            <li onclick="showSection('forecast',event)">Forecasting</li>
            <li onclick="showSection('comparison',event)">Multi-Metric</li>
            <li onclick="showSection('pricing',event)">Pricing</li>
            <li onclick="clearAllData()">Reset Data</li>
            <li onclick="logout()">Logout</li>
        </ul>
    </aside>

    <div class="main-content">

        <section id="dashboard" class="page-section active-section">
            <div class="card">
                <button onclick="addDummyData()" class="btn-primary">Add Sample Data</button>
            </div>

            <div class="card charts-grid">
                <div class="chart-card"><canvas id="revenueChart"></canvas></div>
                <div class="chart-card"><canvas id="forecastChart"></canvas></div>
            </div>
        </section>

        <section id="forecast" class="page-section">
            <div class="card">
                <canvas id="comparisonChart"></canvas>
            </div>
        </section>

        <section id="comparison" class="page-section">
            <div class="card">
                <h3>Comparison Area</h3>
            </div>
        </section>

        <section id="pricing" class="page-section">
            <div class="card">
                <h3>Pricing Plans</h3>
            </div>
        </section>

    </div>
</div>

<script>
let revenueChart, forecastChart, comparisonChart;
let data = [];

document.addEventListener("DOMContentLoaded", () => {
    initCharts();
});

function login(){
    document.getElementById("authScreen").classList.add("hidden");
    document.getElementById("app").classList.remove("hidden");
}

function logout(){
    document.getElementById("authScreen").classList.remove("hidden");
    document.getElementById("app").classList.add("hidden");
}

function toggleSidebar(){
    document.getElementById("sidebar").classList.toggle("show");
}

function showSection(id,event){
    document.querySelectorAll(".page-section")
        .forEach(s=>s.classList.remove("active-section"));
    document.getElementById(id).classList.add("active-section");

    document.querySelectorAll(".sidebar li")
        .forEach(li=>li.classList.remove("active"));
    if(event) event.target.classList.add("active");

    if(window.innerWidth<768){
        toggleSidebar();
    }
}

function initCharts(){
    revenueChart = new Chart(document.getElementById("revenueChart"),{
        type:"line",
        data:{labels:[],datasets:[{label:"Revenue",data:[]}]},
        options:{responsive:true,maintainAspectRatio:false}
    });

    forecastChart = new Chart(document.getElementById("forecastChart"),{
        type:"line",
        data:{labels:[],datasets:[{label:"Forecast",data:[]}]},
        options:{responsive:true,maintainAspectRatio:false}
    });
}

function addDummyData(){
    const month = "M"+(data.length+1);
    const value = Math.floor(Math.random()*1000)+200;
    data.push({month,value});

    const labels = data.map(d=>d.month);
    const values = data.map(d=>d.value);

    revenueChart.data.labels = labels;
    revenueChart.data.datasets[0].data = values;
    revenueChart.update();

    forecastChart.data.labels = labels;
    forecastChart.data.datasets[0].data = values.map(v=>v*1.1);
    forecastChart.update();
}

function clearAllData(){
    data=[];
    revenueChart.data.labels=[];
    revenueChart.data.datasets[0].data=[];
    revenueChart.update();
}

function exportExecutivePDF(){
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();
    doc.text("ImpactGrid Report",20,20);
    doc.save("report.pdf");
}
</script>

</body>
</html>
