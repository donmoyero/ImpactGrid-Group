<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ImpactGrid SaaS Intelligence Platform</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Prevent subfolder path issues -->
    <base href="./">

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- Chart.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- jsPDF -->
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <!-- Local CSS -->
    <link rel="stylesheet" href="./style.css">
</head>

<body>

<!-- ================= MAIN APP ================= -->
<div class="app-layout">

    <!-- SIDEBAR -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-top">
            <div class="logo-container">
                <img src="./logo.png" alt="ImpactGrid Logo" class="logo-img">
                <span class="logo-text">ImpactGrid</span>
            </div>
            <button class="collapse-btn" type="button" onclick="toggleSidebar()">☰</button>
        </div>

        <nav>
            <ul>
                <li onclick="showSection('dashboard', event)" class="active">Dashboard</li>
                <li onclick="showSection('forecast', event)">Forecasting</li>
                <li onclick="showSection('comparison', event)">Multi-Metric</li>
                <li onclick="showSection('pricing', event)">Pricing</li>
                <li onclick="clearAllData()">Reset Data</li>
            </ul>
        </nav>
    </aside>

    <!-- MAIN CONTENT -->
    <div class="main-content">

        <!-- HEADER -->
        <header class="dashboard-header">
            <div>
                <h1>Enterprise Intelligence Platform</h1>
                <p>Forecasting • Strategic Modeling • Business Analytics</p>
            </div>
            <div class="header-actions">
                <button class="btn-secondary" type="button" onclick="exportExecutivePDF()">
                    Export Executive PDF
                </button>
                <button class="btn-primary" type="button" onclick="toggleTheme()">
                    Toggle Theme
                </button>
            </div>
        </header>

        <!-- ================= DASHBOARD ================= -->
        <section id="dashboard" class="page-section active-section">

            <!-- HOW TO USE -->
            <section class="card">
                <h2>Getting Started</h2>

                <div class="grid">
                    <div>
                        <label><strong>Business Start Date</strong></label>
                        <input type="month" id="businessStartDate">
                    </div>
                </div>

                <div style="margin-top:15px; font-size:14px; line-height:1.7;">
                    <p><strong>Step 1:</strong> Enter your business start date.</p>
                    <p><strong>Step 2:</strong> Add monthly revenue and expenses.</p>
                    <p><strong>Step 3:</strong> Monitor KPI metrics and profit margin.</p>
                    <p><strong>Step 4:</strong> Use Forecasting to project the next 3 months.</p>
                    <p><strong>Step 5:</strong> Use Multi-Metric to compare Revenue, Profit & Expenses together.</p>
                    <p><strong>Step 6:</strong> Export a professional executive PDF report.</p>
                </div>
            </section>

            <!-- DATA INPUT -->
            <section class="card input-card">
                <h2>Business Data Input</h2>
                <div class="grid">
                    <input type="month" id="month">
                    <input type="number" id="revenue" placeholder="Revenue">
                    <input type="number" id="expenses" placeholder="Expenses">
                    <input type="number" id="customers" placeholder="Customers">
                    <input type="number" id="marketing" placeholder="Marketing Spend">
                    <button class="btn-primary" type="button" onclick="addData()">
                        Add Data
                    </button>
                </div>
            </section>

            <!-- KPI -->
            <section class="card">
                <h2>Key Performance Indicators</h2>
                <div id="kpiContainer" class="kpi-grid"></div>
            </section>

            <!-- CORE PERFORMANCE -->
            <section class="card">
                <h2>Core Performance</h2>
                <div class="charts-grid">
                    <div class="chart-card">
                        <canvas id="revenueChart"></canvas>
                    </div>
                    <div class="chart-card">
                        <canvas id="profitChart"></canvas>
                    </div>
                    <div class="chart-card">
                        <canvas id="expenseChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- REPORT -->
            <section class="card">
                <h2>Performance Intelligence Report</h2>
                <div id="performanceReport" class="report-box">
                    <p>No analysis available yet. Add business data to generate insights.</p>
                </div>
            </section>

            <!-- BRANDING -->
            <section class="card">
                <h2>Company Branding (Premium Only)</h2>
                <p>Upload your company logo. It will appear at the top of your Executive PDF report.</p>
                <input type="file" id="companyLogoInput" accept="image/*">
            </section>

        </section>

        <!-- ================= FORECAST ================= -->
        <section id="forecast" class="page-section">
            <section class="card">
                <h2>Revenue Forecast (Next 3 Months Projection)</h2>
                <div class="chart-card">
                    <canvas id="forecastChart"></canvas>
                </div>
            </section>
        </section>

        <!-- ================= MULTI METRIC ================= -->
        <section id="comparison" class="page-section">
            <section class="card">
                <h2>Multi-Metric Comparison</h2>
                <p style="font-size:14px; margin-bottom:15px; color:#94a3b8;">
                    Compare Revenue, Profit and Expenses trends over time in one unified performance view.
                </p>
                <div class="chart-card">
                    <canvas id="comparisonChart"></canvas>
                </div>
            </section>
        </section>

        <!-- ================= PRICING ================= -->
        <section id="pricing" class="page-section">
            <section class="card">
                <h2>Choose Your Plan</h2>

                <div class="pricing-grid">

                    <div class="pricing-card">
                        <h3>Starter</h3>
                        <p class="price">Free</p>
                        <ul>
                            <li>Core Analytics</li>
                            <li>Basic Report</li>
                            <li>Limited History</li>
                            <li>No Forecast</li>
                            <li>No PDF Export</li>
                        </ul>
                        <button class="btn-secondary" type="button" onclick="setPlan('free')">
                            Select
                        </button>
                    </div>

                    <div class="pricing-card">
                        <h3>Growth</h3>
                        <p class="price">£8.99 / month</p>
                        <ul>
                            <li>Forecasting</li>
                            <li>Multi-Metric</li>
                            <li>Executive PDF (3/month)</li>
                        </ul>
                        <button class="btn-primary" type="button" onclick="setPlan('pro')">
                            Select
                        </button>
                    </div>

                    <div class="pricing-card premium">
                        <h3>Pro Intelligence</h3>
                        <p class="price">£19.99 / month</p>
                        <ul>
                            <li>Unlimited Executive PDFs</li>
                            <li>Company Logo Branding</li>
                            <li>Advanced Executive Summary</li>
                            <li>Risk & Growth Insights</li>
                        </ul>
                        <button class="btn-primary" type="button" onclick="setPlan('premium')">
                            Select
                        </button>
                    </div>

                </div>
            </section>
        </section>

        <footer class="dashboard-footer">
            <p>© 2026 ImpactGridGroup</p>
        </footer>

    </div>
</div>

<script defer src="./script.js"></script>

</body>
</html>
